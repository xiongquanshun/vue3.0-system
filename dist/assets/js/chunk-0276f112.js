(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0276f112"],{"2e8f":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table targetTemplate"},[a("div",{staticClass:"container"},[a("div",{staticClass:"printList-select clearfix"},[a("div",{staticClass:"clearfix",staticStyle:{flex:"1"}},[a("font",{class:t.printListSelect?"printList-select-active":"",on:{click:function(e){return t.selectList("doc")}}},[t._v("文档打印")]),a("font",{class:t.printListSelect?"":"printList-select-active",on:{click:function(e){return t.selectList("photo")}}},[t._v("照片打印")])],1),a("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",icon:"add"},on:{click:t.add}},[t._v(" 添加新设备 ")])],1),a("el-table",{ref:"multipleTable",attrs:{data:t.data,border:""},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{staticClass:"_cell",attrs:{prop:"name",label:"打印机型号",width:"120"}}),a("el-table-column",{attrs:{prop:"ascription",label:"色彩模式"}}),a("el-table-column",{attrs:{prop:"copies",label:"纸盒容量（张）"}}),a("el-table-column",{attrs:{prop:"income",label:"硒鼓最大打印量（页）"}}),a("el-table-column",{attrs:{prop:"income",label:"打印机来源"}}),a("el-table-column",{attrs:{prop:"income",label:" 供应商 "}}),a("el-table-column",{attrs:{prop:"income",label:" 联系人 "}}),a("el-table-column",{attrs:{prop:"income",label:" 联系方式  "}}),a("el-table-column",{attrs:{label:"操作",width:"180",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(a){return t.handleEdit(e.$index,e.row)}}},[t._v("编辑")]),a("el-button",{staticClass:"red",attrs:{type:"text",icon:"el-icon-delete"},on:{click:function(a){return t.handleDelete(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),a("div",{staticClass:"handle-box"},[a("el-button",{staticClass:"handle-del mr10",attrs:{type:"primary",icon:"delete"},on:{click:t.delAll}},[t._v("批量删除")])],1),a("div",{staticClass:"pagination"},[a("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.tableData.length},on:{"current-change":t.handleCurrentChange}})],1)],1),a("el-dialog",{attrs:{title:"添加新设备",visible:t.addVisible,width:"530px"},on:{"update:visible":function(e){t.addVisible=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"打印机型号"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)]),a("el-form-item",{attrs:{label:"色彩模式"}},[a("div",{staticClass:"el-form-content"},[a("el-select",{staticStyle:{width:"100%",margin:"0"},attrs:{placeholder:"运行状态"},model:{value:t.select_status,callback:function(e){t.select_status=e},expression:"select_status"}},t._l(t.statusList,function(t,e){return a("el-option",{key:e,attrs:{label:t.text,value:t.text}})}),1)],1)]),a("el-form-item",{attrs:{label:"纸盒容量"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{staticClass:"unit-input1",model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}}),a("span",{staticClass:"el-form-content-unit"},[t._v("张")])],1)]),a("el-form-item",{attrs:{label:"硒鼓容量"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{staticClass:"unit-input1",model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}}),a("span",{staticClass:"el-form-content-unit"},[t._v("页")])],1)]),a("el-form-item",{attrs:{label:"设备来源"}},[a("div",{staticClass:"el-form-content"},[a("el-select",{staticStyle:{width:"100%",margin:"0"},attrs:{placeholder:"运行状态"},model:{value:t.select_status,callback:function(e){t.select_status=e},expression:"select_status"}},t._l(t.statusList,function(t,e){return a("el-option",{key:e,attrs:{label:t.text,value:t.text}})}),1)],1)]),a("el-form-item",{attrs:{label:"供应商"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)]),a("el-form-item",{attrs:{label:"联系人"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)]),a("el-form-item",{attrs:{label:"联系方式 "}},[a("div",{staticClass:"el-form-content"},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:t.saveAdd}},[t._v("确定添加")])],1)],1),a("el-dialog",{staticClass:"detail",attrs:{title:"详情",visible:t.editVisible,width:"530px"},on:{"update:visible":function(e){t.editVisible=e}}},[a("el-form",{ref:"addForm",attrs:{model:t.addForm,"label-width":"130px"}},[a("el-form-item",{attrs:{label:"打印机型号"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)]),a("el-form-item",{attrs:{label:"色彩模式"}},[a("div",{staticClass:"el-form-content"},[a("el-select",{staticStyle:{width:"100%",margin:"0"},attrs:{placeholder:"运行状态"},model:{value:t.select_status,callback:function(e){t.select_status=e},expression:"select_status"}},t._l(t.statusList,function(t,e){return a("el-option",{key:e,attrs:{label:t.text,value:t.text}})}),1)],1)]),a("el-form-item",{attrs:{label:"纸盒容量"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{staticClass:"unit-input1",model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}}),a("span",{staticClass:"el-form-content-unit"},[t._v("张")])],1)]),a("el-form-item",{attrs:{label:"硒鼓容量"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{staticClass:"unit-input1",model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}}),a("span",{staticClass:"el-form-content-unit"},[t._v("页")])],1)]),a("el-form-item",{attrs:{label:"设备来源"}},[a("div",{staticClass:"el-form-content"},[a("el-select",{staticStyle:{width:"100%",margin:"0"},attrs:{placeholder:"运行状态"},model:{value:t.select_status,callback:function(e){t.select_status=e},expression:"select_status"}},t._l(t.statusList,function(t,e){return a("el-option",{key:e,attrs:{label:t.text,value:t.text}})}),1)],1)]),a("el-form-item",{attrs:{label:"供应商"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)]),a("el-form-item",{attrs:{label:"联系人"}},[a("div",{staticClass:"el-form-content"},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)]),a("el-form-item",{attrs:{label:"联系方式 "}},[a("div",{staticClass:"el-form-content"},[a("el-input",{model:{value:t.addForm.name,callback:function(e){t.$set(t.addForm,"name",e)},expression:"addForm.name"}})],1)])],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.editVisible=!0}}},[t._v("确定编辑")])],1)],1),a("el-dialog",{attrs:{title:"提示",visible:t.delVisible,width:"300px",center:""},on:{"update:visible":function(e){t.delVisible=e}}},[a("div",{staticClass:"del-dialog-cnt"},[t._v("删除不可恢复，是否确定删除？")]),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.delVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:t.deleteRow}},[t._v("确 定")])],1)])],1)},s=[],n=(a("d4d5"),a("7364"),{name:"targetTemplate",data:function(){return{printListSelect:!0,ascriptionList:[{id:"00",name:"所属机构"},{id:"01",name:"益网互联公司"},{id:"02",name:"川纳传媒公司"},{id:"03",name:"印记"}],tableData:[{name:"蘇州大學風奎",ascription:"川纳传媒公司",copies:10,income:40,date:"2019/03/23"},{name:"清华大学",ascription:"川纳传媒公司",copies:30,income:20,date:"2019/03/23"},{name:"青海大学",ascription:"印记",copies:50,income:45,date:"2019/03/23"},{name:"北京大学",ascription:"川纳传媒公司",copies:1,income:30,date:"2019/05/07"},{name:"暨南大学",ascription:"川纳传媒公司",copies:8,income:14,date:"2019/05/20"},{name:"华南理工",ascription:"印记",copies:7,income:28,date:"2019/04/23"},{name:"剑桥大学",ascription:"印记",copies:10,income:40,date:"2019/05/23"},{name:"牛津大学",ascription:"印记",copies:10,income:40,date:"2019/05/23"},{name:"牛津大学",ascription:"印记",copies:10,income:40,date:"2019/05/23"},{name:"牛津大学",ascription:"益网互联公司",copies:10,income:40,date:"2019/05/23"},{name:"牛津大学",ascription:"益网互联公司",copies:10,income:40,date:"2019/05/23"},{name:"牛津大学",ascription:"益网互联公司",copies:10,income:40,date:"2019/05/23"},{name:"牛津大学",ascription:"益网互联公司",copies:10,income:40,date:"2019/05/23"},{name:"牛津大学",ascription:"益网互联公司",copies:10,income:40,date:"2019/05/21"},{name:"牛津大学",ascription:"益网互联公司",copies:10,income:40,date:"2019/05/20"},{name:"牛津大学",ascription:"益网互联公司",copies:10,income:40,date:"2019/05/20"},{name:"牛津大学",ascription:"益网互联公司",copies:10,income:40,date:"2019/05/20"},{name:"牛津大学",ascription:"益网互联公司",copies:10,income:40,date:"2019/05/20"}],pagesize:10,cur_page:1,multipleSelection:[],select_word:"",select_ascription:"",select_startDate:"",select_endDate:"",del_list:[],is_search:!1,addVisible:!1,editVisible:!1,delVisible:!1,addForm:{},form:{name:"",ascription:"",copies:0,income:0},idx:-1}},created:function(){},computed:{data:function(){var t=this;this.select_ascription="所属机构"==this.select_ascription?"":this.select_ascription;var e=this.cur_page,a=this.pagesize,i=this.select_ascription,s=this.select_startDate,n=this.select_endDate,l=this.select_word;s=""==s||null==s?"":this._parseTime(new Date(s)),n=""==n||null==n?"":this._parseTime(new Date(n));var o=this._dateToTimeStamp(s),c=this._dateToTimeStamp(n),r=this.tableData.filter(function(e){for(var a=!1,r=0;r<t.del_list.length;r++)if(e.name===t.del_list[r].name){a=!0;break}if(!a){if(""==i&&""==s&&""==n&&(e.name.indexOf(l)>-1||e.ascription.indexOf(l)>-1))return e;if(""==i&&(e.name.indexOf(l)>-1||e.ascription.indexOf(l)>-1))if(isNaN(o)){if(isNaN(c))return e;if(t._dateToTimeStamp(e.date)<=c)return e}else if(t._dateToTimeStamp(e.date)>=o){if(isNaN(c))return e;if(t._dateToTimeStamp(e.date)<=c)return e}if(e.ascription.indexOf(i)>-1&&(e.name.indexOf(l)>-1||e.ascription.indexOf(l)>-1))if(isNaN(o)){if(isNaN(c))return e;if(t._dateToTimeStamp(e.date)<=c)return e}else if(t._dateToTimeStamp(e.date)>=o){if(isNaN(c))return e;if(t._dateToTimeStamp(e.date)<=c)return e}}});return r.slice((e-1)*a,e*a)}},methods:{selectList:function(t){this.printListSelect="doc"===t},select:function(){console.log(1231),console.log(this)},handleCurrentChange:function(t){this.cur_page=Number(t)},getData:function(){var t=this;this.$axios.get(this.url).then(function(e){console.log(e),t.tableData=e.data.data.list})},search:function(){this.is_search=!0},formatter:function(t,e){return t.address},filterTag:function(t,e){return e.tag===t},handleSelectionChange:function(t){this.multipleSelection=t},handleEdit:function(t,e){this.idx=t;var a=this.tableData[t];this.form={name:a.name,date:a.date,sex:a.sex,IDcard:a.IDcard,roomNumber:a.roomNumber,address:a.address,iphone:a.iphone},this.editVisible=!0},handleDelete:function(t,e){var a=this;this.idx=t,this.$confirm("确定删除所选文件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.deleteRow()}).catch(function(){})},delAll:function(){var t=this,e=this.multipleSelection.length,a="";this.$confirm("确定删除所选文件吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){t.del_list=t.del_list.concat(t.multipleSelection);for(var i=0;i<e;i++)a+=t.multipleSelection[i].name+" ";t.multipleSelection=[],t.$message({message:"删除了"+a,type:"success",center:!0})}).catch(function(){})},deleteRow:function(){this.tableData.splice(this.idx,1),this.$message.success("删除成功"),this.delVisible=!1},add:function(){this.addForm={name:"",date:"",address:"",IDcard:"",roomNumber:"",sex:"",iphone:""},this.addVisible=!0},saveAdd:function(){console.log(this.addForm);var t="api/add",e=this.addForm;this.addVisible=!1,this.$axios.post(t,{newAdd:e}).then(function(t){console.log(t)})},saveEdit:function(){this.$set(this.tableData,this.idx,this.form),this.editVisible=!1,this.$message.success("修改第 ".concat(this.idx+1," 行成功"))}}}),l=n,o=(a("55c7"),a("309d"),a("17cc")),c=Object(o["a"])(l,i,s,!1,null,"24bf229a",null);e["default"]=c.exports},"309d":function(t,e,a){"use strict";var i=a("914e"),s=a.n(i);s.a},4782:function(t,e,a){},"55c7":function(t,e,a){"use strict";var i=a("4782"),s=a.n(i);s.a},"914e":function(t,e,a){}}]);